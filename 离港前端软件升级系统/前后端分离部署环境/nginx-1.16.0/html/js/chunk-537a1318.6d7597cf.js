(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-537a1318"],{"1f47":function(e,t,n){},5718:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user"}},[n("el-row",{directives:[{name:"show",rawName:"v-show",value:0==e.pageSign,expression:"pageSign == 0"}]},[n("div",{staticClass:"pageQuery"},[n("div",{staticClass:"condition"}),n("div",{staticClass:"subBtn"},[n("el-button",{staticClass:"el-button--success",attrs:{size:"small"},on:{click:e.addVersion}},[e._v("新 增 版 本")])],1)]),n("div",{staticClass:"pageList"},[n("div",{staticClass:"table"},[n("el-table",{attrs:{border:"",stripe:"",data:e.versionData,"empty-text":""}},[n("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"name",label:"版本名称"}}),n("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"number",label:"版本号"}}),n("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"des",label:"详细描述"}}),n("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"date",label:"更新时间"}}),n("el-table-column",{attrs:{fixed:"",fit:"",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(n){return e.editVersion(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.deleteVersion(t.row.id)}}},[e._v("删除")]),n("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(n){return e.jumpVersionFile(t.row.id)}}},[e._v("文件信息")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.issueVersion(t.row.number)}}},[e._v("版本下发")])]}}])})],1)],1)])]),n("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.pageSign,expression:"pageSign == 1"}]},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"pageEdit"},[n("el-button",{attrs:{circle:""},on:{click:e.backBtn}},[n("i",{staticClass:"el-icon-back",staticStyle:{cursor:"pointer"}})]),n("el-form",{ref:e.versionForm,attrs:{model:e.versionForm}},[n("el-form-item",{attrs:{label:"版本名称",prop:"name"}},[n("el-input",{model:{value:e.versionForm.name,callback:function(t){e.$set(e.versionForm,"name",t)},expression:"versionForm.name"}})],1),n("el-form-item",{attrs:{label:"版本号",prop:"number"}},[n("el-input",{attrs:{disabled:e.isDisabled},model:{value:e.versionForm.number,callback:function(t){e.$set(e.versionForm,"number",t)},expression:"versionForm.number"}})],1),n("el-form-item",{attrs:{label:"详细描述",prop:"des"}},[n("el-input",{model:{value:e.versionForm.des,callback:function(t){e.$set(e.versionForm,"des",t)},expression:"versionForm.des"}})],1),n("el-button",{staticClass:"editBtn",attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)],1)])],1)],1)},i=[],o=(n("b0c0"),n("bc3a")),a=n.n(o),r={name:"Version",data:function(){return{versionForm:{id:"",name:"",number:"",des:"",date:""},queryForm:{},hostName:this.$store.state.host,versionData:[],isDisabled:0,pageSign:0,addOrEditSign:0,currentPage:1,pageSize:10,total:0}},created:function(){this.queryVersion()},methods:{queryVersion:function(){var e=this;a.a.get(this.hostName+"version",{},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(t){e.versionData=t.data.data})).catch((function(e){console.log(e)}))},addVersion:function(){this.pageSign=1,this.addOrEditSign=0,this.isDisabled=0;var e={id:"",name:"",number:"",des:"",date:""};this.versionForm=e},editVersion:function(e){this.pageSign=1,this.addOrEditSign=1,this.isDisabled=1,this.versionForm=e},deleteVersion:function(e){var t=this,n=this;this.$confirm("是否删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.a.delete(t.hostName+"version/"+e,{},{headers:{"content-type":"application/json",Authorization:t.$store.state.Authorization}}).then((function(){n.$message({message:"删除成功",type:"success"}),n.queryVersion()})).catch((function(e){console.log(e)}))}))},save:function(){var e=this;1==this.pageSign&&(0==this.addOrEditSign?a.a.post(this.hostName+"version",{name:e.versionForm.name,number:e.versionForm.number,des:e.versionForm.des},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(){e.$message({message:"新增成功",type:"success"}),e.queryVersion()})).catch((function(e){console.log(e)})):1==this.addOrEditSign&&a.a.put(this.hostName+"version",{name:e.versionForm.name,number:e.versionForm.number,des:e.versionForm.des},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(){e.$message({message:"修改成功",type:"success"})})).catch((function(e){console.log(e)}))),this.backBtn()},backBtn:function(){this.pageSign=0,this.queryVersion()},jumpVersionFile:function(e){this.$store.dispatch("versionIdActionFun",e),this.$router.push({path:"/versionFile",query:{versionId:e}})},issueVersion:function(e){var t=this,n=this;this.$confirm("是否下发版本?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.a.get(t.hostName+"deploy/"+e,{},{headers:{"content-type":"application/json",Authorization:t.$store.state.Authorization}}).then((function(e){0===e.data.resultcode?n.$message({message:"下发成功",type:"success"}):n.$message.error(e.data.resultmsg)})).catch((function(e){console.log(e)}))}))}}},c=r,l=(n("6f2f"),n("2877")),u=Object(l["a"])(c,s,i,!1,null,"3629b4fc",null);t["default"]=u.exports},"6f2f":function(e,t,n){"use strict";var s=n("1f47"),i=n.n(s);i.a},b0c0:function(e,t,n){var s=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,r=/^\s*function ([^ (]*)/,c="name";s&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(r)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-537a1318.6d7597cf.js.map