(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ce6dd68"],{"460d":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"box"}},[o("el-row",{directives:[{name:"show",rawName:"v-show",value:0==t.pageSign,expression:"pageSign == 0"}],staticClass:"body"},[o("div",{staticClass:"condition"}),o("div",{staticClass:"subBtn"},[o("el-button",{staticClass:"el-button--success",attrs:{size:"small"},on:{click:t.addLog}},[t._v("新增日志信息")])],1),o("el-table",{staticStyle:{height:"800px"},attrs:{border:"",stripe:"",data:t.logData,"empty-text":""}},[o("el-table-column",{attrs:{fixed:"",fit:"",align:"center",width:"150",prop:"who",label:"版本更新人员"}}),o("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"what",label:"操作描述"}}),o("el-table-column",{attrs:{fixed:"",fit:"",align:"center",prop:"date",label:"更新时间"}}),o("el-table-column",{attrs:{fixed:"",fit:"",align:"center",width:"200",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success",size:"small"},on:{click:function(o){return t.editLog(e.row)}}},[t._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){return t.deleteLog(e.row.id)}}},[t._v("删除")])]}}])})],1)],1),o("el-row",{directives:[{name:"show",rawName:"v-show",value:1==t.pageSign,expression:"pageSign == 1"}]},[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"pageEdit"},[o("el-button",{attrs:{circle:""},on:{click:t.backBtn}},[o("i",{staticClass:"el-icon-back",staticStyle:{cursor:"pointer"}})]),o("el-form",{ref:t.logForm,attrs:{model:t.logForm}},[o("el-form-item",{attrs:{label:"版本操作人员",prop:"who"}},[o("el-input",{model:{value:t.logForm.who,callback:function(e){t.$set(t.logForm,"who",e)},expression:"logForm.who"}})],1),o("el-form-item",{attrs:{label:"版本描述",prop:"what"}},[o("el-input",{model:{value:t.logForm.what,callback:function(e){t.$set(t.logForm,"what",e)},expression:"logForm.what"}})],1),o("el-button",{staticClass:"editBtn",attrs:{type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)],1)])],1)],1)},i=[],n=o("bc3a"),s=o.n(n),l={name:"Log",data:function(){return{logForm:{id:"",who:"",what:"",date:""},queryForm:{},hostName:this.$store.state.host,logData:[],pageSign:0,addOrEditSign:0,currentPage:1,pageSize:10,total:0}},created:function(){this.queryLog()},methods:{queryLog:function(){var t=this;s.a.get(this.hostName+"log",{},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(e){t.logData=e.data.data})).catch((function(t){console.log(t)}))},addLog:function(){this.pageSign=1,this.addOrEditSign=0;var t={id:"",who:"",what:"",date:""};this.logForm=t},editLog:function(t){this.pageSign=1,this.addOrEditSign=1,this.logForm=t},deleteLog:function(t){var e=this,o=this;this.$confirm("是否删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s.a.delete(e.hostName+"log/"+t,{},{headers:{"content-type":"application/json",Authorization:e.$store.state.Authorization}}).then((function(){o.$message({message:"删除成功",type:"success"}),o.queryLog()})).catch((function(t){console.log(t)}))}))},save:function(){var t=this;1==this.pageSign&&(0==this.addOrEditSign?s.a.post(this.hostName+"log",{who:t.logForm.who,what:t.logForm.what},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(){t.$message({message:"新增成功",type:"success"}),t.queryLog()})).catch((function(t){console.log(t)})):1==this.addOrEditSign&&s.a.put(this.hostName+"log",{id:t.logForm.id,who:t.logForm.who,what:t.logForm.what},{headers:{"content-type":"application/json",Authorization:this.$store.state.Authorization}}).then((function(){t.$message({message:"修改成功",type:"success"}),t.queryLog()})).catch((function(t){console.log(t)}))),this.backBtn()},backBtn:function(){this.pageSign=0,this.queryLog()}}},r=l,c=(o("4788"),o("2877")),h=Object(c["a"])(r,a,i,!1,null,"564db70c",null);e["default"]=h.exports},4788:function(t,e,o){"use strict";var a=o("c39a"),i=o.n(a);i.a},c39a:function(t,e,o){}}]);
//# sourceMappingURL=chunk-6ce6dd68.0bc146b3.js.map