{"version":3,"sources":["webpack:///./src/pages/log.vue?070e","webpack:///src/pages/log.vue","webpack:///./src/pages/log.vue?92ef","webpack:///./src/pages/log.vue","webpack:///./src/pages/log.vue?b624"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","pageSign","expression","staticClass","on","addLog","_v","staticStyle","logData","scopedSlots","_u","key","fn","scope","$event","editLog","row","deleteLog","id","backBtn","ref","logForm","model","callback","$$v","$set","save","staticRenderFns","component"],"mappings":"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","file":"js/chunk-6ce6dd68.0bc146b3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"box\"}},[_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageSign == 0),expression:\"pageSign == 0\"}],staticClass:\"body\"},[_c('div',{staticClass:\"condition\"}),_c('div',{staticClass:\"subBtn\"},[_c('el-button',{staticClass:\"el-button--success\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.addLog}},[_vm._v(\"新增日志信息\")])],1),_c('el-table',{staticStyle:{\"height\":\"800px\"},attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.logData,\"empty-text\":\"\"}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"fit\":\"\",\"align\":\"center\",\"width\":\"150\",\"prop\":\"who\",\"label\":\"版本更新人员\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"fit\":\"\",\"align\":\"center\",\"prop\":\"what\",\"label\":\"操作描述\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"fit\":\"\",\"align\":\"center\",\"prop\":\"date\",\"label\":\"更新时间\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"fit\":\"\",\"align\":\"center\",\"width\":\"200\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editLog(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteLog(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageSign == 1),expression:\"pageSign == 1\"}]},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"pageEdit\"},[_c('el-button',{attrs:{\"circle\":\"\"},on:{\"click\":_vm.backBtn}},[_c('i',{staticClass:\"el-icon-back\",staticStyle:{\"cursor\":\"pointer\"}})]),_c('el-form',{ref:_vm.logForm,attrs:{\"model\":_vm.logForm}},[_c('el-form-item',{attrs:{\"label\":\"版本操作人员\",\"prop\":\"who\"}},[_c('el-input',{model:{value:(_vm.logForm.who),callback:function ($$v) {_vm.$set(_vm.logForm, \"who\", $$v)},expression:\"logForm.who\"}})],1),_c('el-form-item',{attrs:{\"label\":\"版本描述\",\"prop\":\"what\"}},[_c('el-input',{model:{value:(_vm.logForm.what),callback:function ($$v) {_vm.$set(_vm.logForm, \"what\", $$v)},expression:\"logForm.what\"}})],1),_c('el-button',{staticClass:\"editBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保 存\")])],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--离港前端软件升级系统子页面-版本日志信息-->\r\n<template>\r\n    <div id=\"box\">\r\n        <el-row class=\"body\" v-show=\"pageSign == 0\">\r\n            <div class=\"condition\">\r\n                <!--<el-button icon=\"el-icon-search\" class=\"el-button&#45;&#45;primary\" size=\"small\" @click=\"queryLog\">查 询</el-button>-->\r\n            </div>\r\n            <!--新增版本日志信息，点击跳转到二级页面-->\r\n            <div class=\"subBtn\">\r\n                <el-button class=\"el-button--success\" size=\"small\" @click=\"addLog\">新增日志信息</el-button>\r\n            </div>\r\n            <!--显示页面表格，连接数据库，显示版本日志信息页面表格数据-->\r\n            <el-table border stripe :data=\"logData\" empty-text style=\"height: 800px\">\r\n                <!-- 写死查询表格列-->\r\n                <el-table-column fixed fit align=\"center\" width=\"150\" prop=\"who\" label=\"版本更新人员\"></el-table-column>\r\n                <el-table-column fixed fit align=\"center\" prop=\"what\" label=\"操作描述\"></el-table-column>\r\n                <el-table-column fixed fit align=\"center\" prop=\"date\" label=\"更新时间\"></el-table-column>\r\n                <el-table-column fixed fit align=\"center\" width=\"200\" label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <!--日志信息子页面编辑信息按钮-->\r\n                        <el-button type=\"success\" size=\"small\" @click=\"editLog(scope.row)\">编辑</el-button>\r\n                        <!--日志信息子页面删除信息按钮-->\r\n                        <el-button type=\"danger\" size=\"small\" @click=\"deleteLog(scope.row.id)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-row>\r\n            <!--新增日志信息二级页面-->\r\n            <el-row v-show=\"pageSign == 1\">\r\n                <el-col :span=\"24\">\r\n                    <div class=\"pageEdit\">\r\n                        <!--新增日志信息二级页面返回版本日志信息子页按钮-->\r\n                        <el-button circle @click=\"backBtn\">\r\n                            <i style=\"cursor:pointer;\" class=\"el-icon-back\"></i>\r\n                        </el-button>\r\n                        <!--新增日志信息二级页面要输入的内容-->\r\n                        <el-form :model=\"logForm\" :ref=\"logForm\">\r\n                            <el-form-item label=\"版本操作人员\" prop=\"who\">\r\n                                <el-input v-model=\"logForm.who\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label=\"版本描述\" prop=\"what\">\r\n                                <el-input v-model=\"logForm.what\"></el-input>\r\n                            </el-form-item>\r\n                            <!--新增日志信息二级页面保存按钮-->\r\n                            <el-button class=\"editBtn\" type=\"primary\" @click=\"save\">保 存</el-button>\r\n                        </el-form>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n    // 引入axios\r\n    import axios from 'axios';\r\n    export default {\r\n        name: \"Log\",\r\n        // 连接数据库后，返回的数据对应字段名，存放到数组中\r\n        data() {\r\n            return {\r\n                logForm: {\r\n                    id: '',\r\n                    who: '',\r\n                    what: '',\r\n                    date: ''\r\n                },\r\n                queryForm: {},\r\n                hostName: this.$store.state.host,\r\n                logData: [],\r\n                pageSign: 0, //0是查询页面，1是新增或编辑页面\r\n                addOrEditSign: 0, //0是新增，1是编辑\r\n                currentPage: 1,\r\n                pageSize: 10,\r\n                total: 0\r\n            }\r\n        },\r\n        created() {\r\n            this.queryLog();\r\n        },\r\n        methods: {\r\n            // 查询日志信息方法，连接后端，查询数据库日志表信息，显示在网页中\r\n            queryLog() {\r\n                const that = this;\r\n                // 连接数据库,发送get请求\r\n                axios.get(this.hostName + 'log', {}, {\r\n                    headers: {\r\n                        'content-type': 'application/json',\r\n                        \"Authorization\": this.$store.state.Authorization  //token获取\r\n                    }\r\n                }).then(function (response) {\r\n                    that.logData = response.data.data;\r\n                    //连接失败，控制台报出错误信息\r\n                }).catch(function (error) {\r\n                    console.log(error);\r\n                });\r\n            },\r\n            // 新增日志信息方法\r\n            addLog() {\r\n                this.pageSign = 1;\r\n                this.addOrEditSign = 0;\r\n                let obj = {\r\n                    id: '',\r\n                    who: '',\r\n                    what: '',\r\n                    date: ''\r\n                };\r\n                this.logForm = obj;\r\n            },\r\n            // 编辑日志信息方法\r\n            editLog(row) {\r\n                this.pageSign = 1;\r\n                this.addOrEditSign = 1;\r\n                this.logForm = row;\r\n            },\r\n            // 删除日志信息方法\r\n            deleteLog(id) {\r\n                const that = this;\r\n                this.$confirm('是否删除该用户?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    // 连接数据库，发送delete请求\r\n                    axios.delete(this.hostName + 'log/' + id, {}, {\r\n                        headers: {\r\n                            'content-type': 'application/json',\r\n                            \"Authorization\": this.$store.state.Authorization  //token获取\r\n                        }\r\n                        //删除信息成功，返回日志信息子页面\r\n                    }).then(function () {\r\n                        that.$message({\r\n                            message: '删除成功',\r\n                            type: 'success'\r\n                        });\r\n                        that.queryLog();\r\n                        //删除信息失败，控制台报出错误信息\r\n                    }).catch(function (error) {\r\n                        console.log(error);\r\n                    });\r\n                });\r\n            },\r\n            // 新增日志信息二级页面保存方法\r\n            save() {\r\n                const that = this;\r\n                // pageSign：1是新增或编辑页面\r\n                if (this.pageSign == 1) {\r\n                    // addOrEditSign：0为新增页面，1为编辑页面\r\n                    if (this.addOrEditSign == 0) {\r\n                        // 连接数据库,发送post请求\r\n                        axios.post(this.hostName + 'log', {\r\n                            //id:that.logForm.id,\r\n                            who: that.logForm.who,\r\n                            what: that.logForm.what\r\n                        }, {\r\n                            headers: {\r\n                                'content-type': 'application/json',\r\n                                \"Authorization\": this.$store.state.Authorization  //token获取\r\n                            }\r\n                            //新增信息成功，返回日志信息子页面\r\n                        }).then(function () {\r\n                            that.$message({\r\n                                message: '新增成功',\r\n                                type: 'success'\r\n                            });\r\n                            that.queryLog();\r\n                            //新增失败，控制台报出错误信息\r\n                        }).catch(function (error) {\r\n                            console.log(error);\r\n                        });\r\n                        // 编辑修改日志页面表格信息，连接数据库表，更改表中修改的信息，同步到前端主页面表格中\r\n                    } else if (this.addOrEditSign == 1) {\r\n                        // 连接数据库,发送put请求\r\n                        axios.put(this.hostName + 'log', {\r\n                            id: that.logForm.id,\r\n                            who: that.logForm.who,\r\n                            what: that.logForm.what\r\n                        }, {\r\n                            headers: {\r\n                                'content-type': 'application/json',\r\n                                \"Authorization\": this.$store.state.Authorization  //token获取\r\n                            }\r\n                            //修改信息成功，返回日志信息子页面\r\n                        }).then(function () {\r\n                            that.$message({\r\n                                message: '修改成功',\r\n                                type: 'success'\r\n                            });\r\n                            that.queryLog();\r\n                            //修改信息失败，控制台报出错误信息\r\n                        }).catch(function (error) {\r\n                            console.log(error);\r\n                        });\r\n                    }\r\n                }\r\n                this.backBtn();\r\n            },\r\n            // 新增日志信息二级页面返回子页方法\r\n            backBtn() {\r\n                this.pageSign = 0;\r\n                this.queryLog();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    #box {\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: white;\r\n    }\r\n    .condition\r\n    {\r\n        float: left;\r\n        position: relative;\r\n        top: 5px;\r\n        left: 20px;\r\n\r\n    }\r\n    .subBtn\r\n    {\r\n        float: right;\r\n        position: relative;\r\n        right: 20px;\r\n        margin-top: 5px;\r\n        margin-bottom: 10px;\r\n    }\r\n    .body\r\n    {\r\n        margin-top: 10px;\r\n        width: 100%;\r\n        height: 800px;\r\n        text-align: center;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./log.vue?vue&type=template&id=564db70c&scoped=true&\"\nimport script from \"./log.vue?vue&type=script&lang=js&\"\nexport * from \"./log.vue?vue&type=script&lang=js&\"\nimport style0 from \"./log.vue?vue&type=style&index=0&id=564db70c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"564db70c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log.vue?vue&type=style&index=0&id=564db70c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log.vue?vue&type=style&index=0&id=564db70c&scoped=true&lang=css&\""],"sourceRoot":""}